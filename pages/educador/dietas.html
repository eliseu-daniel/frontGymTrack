<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Educador - Gestão de Dietas</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <h2>Menu</h2>
        <a href="./dashboard.html">Dashboard</a>
        <a href="./pacientes.html">Pacientes</a>
        <a href="./treinos.html">Treinos</a>
        <a href="./dietas.html">Dietas</a>
        <a href="./antropometria.html">Antropometria</a>
        <a href="./relatorios.html">Relatórios</a>
        <a href="../../index.html">Sair</a>
    </div>
    <div class="container">
        <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
        <div class="main-content">
            <h1>Gestão de Dietas</h1>
            <section>
                <h2>Criar Dieta</h2>
                <form>
                    <label for="paciente">Paciente:</label>
                    <select id="paciente" name="paciente" required>
                        <option value="">Selecione um paciente</option>
                        <!-- Preenchido via JavaScript -->
                    </select>
                    <label for="tipo">Tipo de Dieta:</label>
                    <input type="text" id="tipo" name="tipo" required>
                    <label for="inicio">Início:</label>
                    <input type="date" id="inicio" name="inicio" required>
                    <label for="horario">Horário:</label>
                    <input type="time" id="horario" name="horario" required>
                    <label for="refeicao">Refeição:</label>
                    <input type="text" id="refeicao" name="refeicao" required>
                    <label for="pesoMeta">Peso-Meta (kg):</label>
                    <input type="number" id="pesoMeta" name="pesoMeta" step="0.1">
                    <label for="descricao">Descrição:</label>
                    <textarea id="descricao" name="descricao" required></textarea>
                    <label for="calorias">Calorias:</label>
                    <input type="number" id="calorias" name="calorias" required>
                    <label for="proteinas">Proteínas (g):</label>
                    <input type="number" id="proteinas" name="proteinas" required>
                    <label for="carboidratos">Carboidratos (g):</label>
                    <input type="number" id="carboidratos" name="carboidratos" required>
                    <label for="gorduras">Gorduras (g):</label>
                    <input type="number" id="gorduras" name="gorduras" required>
                    <label for="dataAtualizacao">Data da Última Atualização:</label>
                    <input type="date" id="dataAtualizacao" name="dataAtualizacao" required>
                    <button type="submit">Cadastrar</button>
                </form>
                <h2>Lista de Dietas</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Paciente</th>
                                <th>Tipo</th>
                                <th>Refeição</th>
                                <th>Calorias</th>
                                <th>Data</th>
                            </tr>
                        </thead>
                        <tbody id="dietasTable">
                            <!-- Preenchido via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
    <script src="../../assets/js/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const tbody = document.getElementById('dietasTable');
            dietas.forEach(dieta => {
                const paciente = pacientes.find(p => p.id === dieta.pacienteId);
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${paciente.nome}</td>
                    <td>${dieta.tipo}</td>
                    <td>${dieta.refeicao}</td>
                    <td>${dieta.calorias}</td>
                    <td>${dieta.dataAtualizacao}</td>
                `;
                tbody.appendChild(row);
            });
        });
    </script>
</body>
</html>